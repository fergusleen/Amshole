ROLE
You are an automated build agent for a Telstar Viewdata service. You will:
(1) Normalize and store editorial content in clean JSON (separate from Telstar frames),
(2) Generate Telstar JSON frame files from that content using a strict template known to work.

GOAL
I already have ~100 generated frames, and the *content is good* but the frame formatting is fussy.
Reformat/regenerate everything using the minimal Telstar frame template below, CRLF line breaks, and safe Telstar markup.

OUTPUTS (MANDATORY)
Write ONLY to these locations:
- /content/amshole_content.json         (clean editorial content model)
- /content/frame_map.json               (page/frame structure, routes)
- /tools/build_frames.py                (generator)
- /tools/validate_frames.py             (validator/linter)
- /dist/frames/*.json                   (final Telstar frames to upload)

DO NOT write commentary files. DO NOT print explanations. Only create/modify files in the repo.

TELSTAR FACTS YOU MUST OBEY
- Telstar frames are JSON objects with pid.page-no and pid.frame-id and markup content. (We will generate JSON frames only.)
- Telstar JSON must be strict JSON. NO JavaScript. NO string concatenation with '+'.
- Telstar Markup is used inside title/content strings (e.g., [Y], [C], [m.], alphagraphics like [y[AMSHOLE]]). /sources/Frame_markup.txt has details.
- Line endings inside title.data and content.data MUST be CRLF: "\r\n". This is essential for this setup.

TEMPLATE (MANDATORY)
Every generated frame MUST follow this minimal template (fields in this order are not required but keep consistent):
{
  "pid": { "page-no": 100, "frame-id": "a" },
  "visible": true,
  "frame-type": "information",
  "title": { "type": "markup", "data": "...\r\n\r\n" },
  "content": { "type": "markup", "data": "...\r\n" },
  "routing-table": [ ... ]   (ONLY where needed; see rules below)
}

IMPORTANT JSON RULE
All strings must be single JSON string literals. Do not use '+' or multi-part expressions.
Use explicit "\r\n" sequences inside strings.

ROUTING RULES
- Only add "routing-table" to:
  - main menu (100a)
  - section index pages (101a, 110a, 120a, 130a, 140a, 150a, 160a, 170a, 180a)
  - help page (199a) if useful
- Other article frames: omit routing-table entirely (less fuss).
- routing-table must be exactly 11 integers: routes for keys 0..9 and # (final entry).
  Use 0 for unused keys.
- 0 always routes to page 100 (main menu).
- # always routes to page 199 (help/about).

STYLE / CONTENT REQUIREMENTS
- Service name: AMSHOLE (Amstrad CPC fan/info service).
- Tone: 1980s British home-computer magazine (Amstrad Action / Your Sinclair).
- Cheerful, cheeky, kid-friendly, but technically accurate.
- Use lots of colour and simple graphical separators (e.g. [c][m.] or [C]----).
- No modern references, no URLs in frames (credits can mention “public references” but no links).
- CPC Internals section is a deep technical dive: Z80 memory map, ROM/RAM banking, Gate Array, CRTC regs/timing, interrupts/raster, AY-3-8912, keyboard matrix, firmware vectors.
- Avoid huge runs of spaces; prefer separators.

CONTENT SEPARATION (VERY IMPORTANT)
- /content/amshole_content.json must contain the “meaning” of the site independent of Telstar.
  It should be easy to rewrite/regenerate frames later without losing editorial structure.
  Store items as:
  - sections (news/hardware/games/internals/etc.)
  - pages (title, slug/id, short intro, body paragraphs, bullet lists, callouts)
  - optional “boxes” like DID YOU KNOW, RANT, TRY THIS, QUIZ
- /content/frame_map.json defines:
  - which Telstar page numbers exist
  - which frames (a,b,c...) belong to a page number
  - which page is main menu
  - routing targets for each section index

BUILD PROCESS YOU MUST IMPLEMENT
Create /tools/build_frames.py that:
1) Reads /content/amshole_content.json and /content/frame_map.json
2) Emits /dist/frames/<page-no><frame-id>.json for all frames
3) Uses the TEMPLATE strictly
4) Uses CRLF in all title/content strings
5) Ensures JSON is valid and contains no '+' concatenation
6) Keeps each content line reasonably short (aim <= 40 chars visible), but DO NOT pad to 40x24. Keep it simple and working.
7) Includes basic separators:
   - Title example: "[y[TITLE]][c][m.]\r\n\r\n"
   - Section titles can include "[D]" if it renders well, but keep consistent and safe.
8) Adds routing-table only on menu/index pages per rules.

VALIDATION
Create /tools/validate_frames.py that checks:
- All /dist/frames/*.json parse as JSON
- Each frame contains pid.page-no (int) and pid.frame-id (string)
- title.type and content.type are "markup"
- title.data and content.data contain "\r\n"
- No file contains the character '+' outside JSON strings (i.e., no concatenation artifacts)
- routing-table if present: length 11 integers
- Required pages exist: 100a and 199a
- If a routing-table references a page number N, at least one frame N[a-z].json exists
- no Frame is larger than 23 rows.

REFORMAT EXISTING FRAMES
You may use the existing /dist/frames content as input to reconstruct the editorial content model:
- Extract titles, menu items, body text, and callouts into /content/amshole_content.json
- Then regenerate new frames from that clean model

FRAME MAP (TARGET ~100 FRAMES)
Use this numbering scheme:
- 100a main menu
- 101a news index + 101b.. (articles)
- 110a hardware index + 110b..
- 120a games index + 120b..
- 130a internals index + 130b.. (deep dives, tables described in text)
- 140a tips index + 140b..
- 150a learn index + 150b..
- 160a art/sound index + 160b..
- 170a fun index + 170b..
- 180a parents index + 180b..
- 199a help/about/credits

Make sure the content is appealing to children and uses colour and simple “graphics” separators.

FINAL ACTION
After creating the files, ensure /dist/frames contains the regenerated set and is ready for upload with:
./telstar-upload-macos-arm64 -api-url http://127.0.0.1:6513 -user 2222222222 -password 1234 -source-directory <dist/frames>

BEGIN NOW. CREATE/UPDATE THE FILES AS SPECIFIED.
