Markup can be used in the content and title data fields and is a quick and easy way to create viewdata frame content.

The following example shows the definition for Double Height Yellow writing on a blue background.

"[B][n][Y][D]Hello World"
Markup1.png

The markup definitions are shown below.


[R] = ALPHA_RED
[G] = ALPHA_GREEN
[Y] = ALPHA_YELLOW
[B] = ALPHA_BLUE
[M] = ALPHA_MAGENTA
[C] = ALPHA_CYAN
[W] = ALPHA_WHITE
[F] = FLASH
[S] = STEADY
[N] = NORMAL_HEIGHT
[-] = BLACK_BACKGROUND
[n] = NEW_BACKGROUND
[r] = MOSAIC_RED
[g] = MOSAIC_GREEN
[y] = MOSAIC_YELLOW
[b] = MOSAIC_BLUE
[m] = MOSAIC_MAGENTA
[c] = MOSAIC_CYAN
[w] = MOSAIC_WHITE
[h.] = SEPARATOR_GRAPHIC_DOTS_HIGH
[m.] = SEPARATOR_GRAPHIC_DOTS_MID
[l.] = SEPARATOR_GRAPHIC_DOTS_LOW
[h-] = SEPARATOR_GRAPHIC_SOLID_HIGH
[m-] = SEPARATOR_GRAPHIC_SOLID_MID
[l-] = SEPARATOR_GRAPHIC_SOLID_LOW
[_+] = CURON
[_-] = CUROFF

Separator Graphics Usage Note
Use separator graphics once per separator line.
Do not repeat punctuation (e.g. \"........\" or \"--------\") and do not repeat separator tokens across the line.
Set mosaic mode before any separator graphic token by using a mosaic colour token.
Use lowercase mosaic colours for separator rows, e.g. [c][m.] or [m][m-].
Example valid separators:
\"[c][m.]\"\n\"[c][m-]\"

Alpha Graphics
Alpha-graphics can be defined in markup using a special markup syntax using double square brackets e.g.

"[y[Welcome to Telstar]]"
Markup2.png

The character between the first and second bracket, i.e. the 'y' in the above exampple represents the colour to be used. Here is an example that includes a horozontal row of dots.

e.g.

"[y[Welcome to Telstar]][c][m.]"

Frame Routing
Navigation
Routing in Telstar is handled by a full duplex asynchronous process that allows for routing to occur whilst pages are being rendered. This means that is a user of the system can navigate quickly to a desired page by simply entering the page number one character after another. Each successive key press will start the rendering of a page but as each subsequent key is pressed, the rendering is cancelled and the following page is rendered and so on until the desired page is rendered.

For example simply pressing 2 2 2 from the main index page (Page 0a) of the Telstar service will result in the Guardians UK News being displayed. For this to work correctly, all intermediary pages must be present. Creating routes through the system such as the one described above, should be the aim when designing a videotex system.

Users can jump directly to a known page by entering the page number using the format *page#, for example, entering *92# into the current Telstar system will direct you to page 92.

Page Numbering
Pages are defined by a single integer number between 0 and 999999999. Each page can have upto 26 frames denoted by the suffix a-z. Therefore a frame denoted by for example 222b would be the second frame of page 222. The maximum page number length is 9 digits plus the frame suffix.

Zero Page Routing
In cases where a page needs more than 26 frames such as a large Telesoftware program or where a large number of news articles extends beyond frame z, a process of Zero Page Routing takes place. For example if a Guradian news article starting on frame 222z needed a continuation frame, the frame 2220a should be used. If articles continued to frame 2220z and needed further continuation frames, frame 22200a should be used and so on to the maximum page number length (see above).

Default Page Routing
When frames are created an optional routing table can be assigned to the frame, (see Frames) this routing table defines what page is selected when a user enters a digit into their videotex client software.

If a routing table is not defined within the frame, the default routing will be used, for example, pressing 6 whilst on page 222 will try and navigate to page 2226, if this page does not exist, this will return a Page Not Found message, similarly pressing 7 will try and navigate to 2227 and so on. In most cases the default routing will work well, however, when that isn't the case, the table can be created or updated manually as required.

For example, the default routing table for page 222 would effectively be:

[2220, 2221, 2222, 2223, 2224, 2225, 2226, 2227, 2228, 2229, 222]
Each entry represents a key press for example if the user presses a 0 then element zero is used and the user is routed to page 2220, entering a 1 would route the user to page 2221 etc. The last element, element 10, represents the routing when the # (Return Key) is entered.

In most cases the default routing will work quite well, however, when that isn't the case, the table can be created or updated manually as required. Note that when a # is entered, the priority is that a follow on frame will always be selected if one exists.

For example lets assume you have only 2 menu items, 1 and 2, and you want these to go to pages 1001 and 1002 instead of 2221 and 2222. The manually created routing table should look like this...

[1001, 1002, 2222, 2223, 2224, 2225, 2226, 2227, 2228, 2229, 222]
If a use presses 3 the system will try and navigate to page 2223 which presumably will not exist (otherwise there would be a menu item for it) and return Page Not Found which is the correct behaviour. In other words simply define the standard routing table with any changes that are required.

Redirection
There exists a special frame type that will allow a frame to redirect to another frame, for example the following frame redirects from page 0a to 9a.

{
  "pid": {
    "page-no": 0,
    "frame-id": "a"
  },
  "redirect": {
    "page-no": 9,
    "frame-id": "a"
  },
  "visible": true
}
See Frames for more information on frame redirects.

Hash Guard Time
If a CR is received within 200ms of the previous character, and the user is in immediate mode, e.g. Telstar is waiting for a single character menu selection, it is ignored. This has been added for TNC's accessing Telstar e.g. via BPQ32 packet radio nodes.

TNCs operate in Line mode, and therefore for a TNC to send an immediate command e.g. to select an option on a Telstar menu, the user needs to press return, the selection and the CR are boyh sent to Telstar one immediately after the other. From Telstar's point of view, the user appears to have selected an option and immediately pressed return. Without the 'CR guard' implemented below, this would immediately routes the user away from the frame selected by invoking the route for the hash key (as configured for the selected frame).

To differentiate between a user deliberately navigating via the hash route and something operating in line mode, a guard time is implemented to remove any CR sent when in line mode. If a user deliberately presses hash after selecting a menu option it will after the guard time and will be processed as expected.

This only applies to clients that send a CR instead of a Hash.

** edit.tf style frame **

Shown below is a more complete example of a JSON defined frame. With this particular frame, the actual viewdata content has been created using the editor at http://edit.tf, this can be seen in the content.data and content.type keys. Both the edit.tf and zxnet (https://zxnet.co.uk/teletext/editor/) editors are supported. The example below is a simple information page with some simple routing (see Routing. Clicking the content.data link, or pasteing the value into a browser will show the page and allow it to be edited. It is not necessary to use the http://edit.tf editor, this is just one possible option.

{
  "pid": {
    "page-no": 0,
    "frame-id": "a"
  },
  "visible": true,
  "frame-type": "information",
  "content": {
    "data": "http://edit.tf/#0:QIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQMMKAbNw6dyCTuyZfCBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgKJEiRIkSJEiRIkSJEiRIkSJEiRIkSJEiRIkSJEiRIkSJEiRAxQR4s6LSgzEEmdUi0otOogkzo0-lNg1JM-cCg8unNYgQIASBBj67OnXllWIMu7pl5dMOndty7uixBoy4dnTQsQIECBAgBIEHfLh2dNCDDuyINmnNl59POzKuQIECBAgQIECBAgQIECBAyQTotemggzoiCvFg1JEWkCnYemnfuw7EGHdkQIECBAgQIASBBp3dMvLdh6ad-7DsQbsvfmgw7siDvlw9NGXkuQIECBAgQM0EKrTkzotOmgkzo0-lNg1JM-cCh79vDDu8oMO7IgQIECAEgQYuvPTuy8-aDdl781wM6EjVKcVBMw9MvPogoctOPLzQIEDRBHn1otKdNizqiCTOjT6U2DUkz5wKlvw5OaxByw6dixAgBIEGHdkQUMPLZpw7cu7ouQIECBAgQIECBAgQIECBAgQIECBA2QR4NSLXg2UFOLSrSYcWmCnWKkWYsQVIsWNBsLEEOHMaIASBBh3ZEHTRlQQ9-zfz54diCHh7ZUGHJ2y7unXllXIECBAgQN0EifMkxINmmCqcsPbLsQYd2RBI37NOTD5QbsvfmuQIECBA4CHQc2TDpT50WogcMGCAScgoOnLTi69MqDpvQdNGnmgQIAaBBzy8u2nHlQd9PTQgqZdmXnvzdO-HllQYd2RBt38sq5AgQOQ0yfHQT40ZYgp2adSLNQSZ0aegTIKkWnUQUIMeLTQIECAokSJEiRIkSJEiRIkSJEiRIkSJEiRIkSJEiRIkSJEiRIkSJEFeLBqSItJBGn0osODTqIBIM6EQIEFDDnyoFTJywvoECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECA",
    "type": "edit.tf"
  },
  "routing-table": [0,1,11,3,400,5,6,7,800,9,0],
  "cursor": false,
}

** example edit.tf urls **
https://edit.tf/#0:QAoW_fr24eWtB00aeaDhhz5UHTeg54e2VB539eSDvv5a0CAo4cOHCAl4KKHDhw4cOHDhw4cOHDhw4cOHDhw4cOHDhw4cOCn79-JKH69IUXbnyZEq_fv379-_fv379-_fv379-_fv379-Kf__96T0f1hLwgI-P_Qor3________________________8ovXryWTwsXJyPj9____rAovXr169evXr169evXr169evXryvx4RwfPn7__fp1e____pSvz58-fPnz58-fPnz58-fPnz58KtyPj___r05Ph86Ed_9iVXL16_-vXr169ev___________8pwI736cns-f____1Ir_7wt__tUGr_q_6v5TgV__0Hz58KcCn_6wJrvvLf_____96sKfC39GhQav-Lnq_lN5X__Qf__8p_Kf_5NctJ7______rViwp_Lf_7X9__6v-r__QFf_9B_alFn8p__l9_sn6____9A-XrSn8t_QIP6D_q_6v5dYV__0H___Kfyn_-9J8PH_____y-zu_Kfy3_-1___-r_q__yqD__Qf2pTh_Kf_5P8vT4eH7ur28OHgp_Lf_7Vfv_6v6r__KoP_9B_alP_8p__k9_dmjVr163oyV_yn_hw4EfRThw4cOHDh04cOHDhw__yqxYkJq__zgR2vSfv-lKqFixIRalVCxYsWLFixYsWLFixYsKIECAv0Jo1__58_P05RAgQICOpCgB1IsyLUi2KiBAgQIECAogQF1X_-9WLMHxgUQIC6BAgItySAGgixJNSfSQIECBAgQICqwv4a7_5L99L__6rpw-fyf9p8KrFixYsWLFixYsWLFixYsKF_X_-yTkv78v__tWX___J_Wm8p8-fPnz58-fPnz58-fPnwvo_6v_9uS-F9rJfoaol-8mvRlPH___________________y65KuXryS5etLr169eUWLFixYvXr169evXr169evXr169evInSaQHQ5ZefNBFpw0CtBaB9N6DHsy4eSDpo080HPHyy5dyAidJpAdDll580EWnDQK0D8Hm38kHTRlQaMuzgg54-WXLuQICJ0ukDwuufmgw7siDll49cvPpzQd8uzHv25ciDD0dIECBAgInS6APo6dOHN0vX59PTR1xLse_av5Ye-zLzX5cmnot6ZkCA
https://edit.tf/#0:QIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECAi4Q4EyBAgQYEyBAgQIECBAgQIECBAgQIECBAgQIECBAgQEUDVBqQIECBBqQIECBAgLoECBAgQIMHDhgwYMHDggQIECBARQPfGrAsYPEmrAkQIECAugQIECBAw___-rVq1f_7VggQIEBFx19alXBL1ca1LBAgQIC6DUgQePPXf9______9_5fvlgg1EUCBAgQIEHDogQIMCBAgLoNSD1n58-PNX___3-Pjz5897DURQIECBAgQIGqBAg1IECAugRftWoigQF1KxYsWISKAvq1amxFA9YaMjToka6EDTUgQIC6BB_1aiOpRqaePnTQ1SNS-rVqakXHX1q4NWrjruTNdSBAgLoEG_VqI4tjd6r_p9294xL6tWpKRQNUCBAgQIECBA11IECAugQINeojq1Jd_D5wf6krUvq1IUBFApYB2TBi3QEXCFQgQIC6BAg1KuHDgwQIECBAg4cODrUgQIECBAgQIECBAgQIECBAgLoECBEuXr1-bJ8-fOmZcvXr0yBBg_f__RABZNcDJsgjZcS4ugQIECLf____vPnz8____-nQIECr___v0AGHl3dOWVBm38i6BBwcLFixYsWLFixYsWLFizJwQau3Pn-QIAMPft4demndnL4E2r___________________-DL23__-fggQAZGnn038vKwvv-umaNGjRo0aNGjRo0aNGjduf__6_8___0DDw7cXLTkz5S_13_7bPnTJ8-fPnz58-fPmZNg__8_7P__5_nRAgQIEAGrLL___bf9-fPnz58-PPOTJs-IfH9_5__fL_z___2qBAgQIECAvv__2v_OsWLFixZqcuXLv_9__-2___z5t___n_f-iBAgQIC_12_0tV69evXr161WmTJk2bPv__Xfn_9_v_OfN_foECBAgL_06DU1b8-fPnz58-fPnz56XLn___9t__P-_f_6dAgQIECADXioK8GdUQWZ9VCHlT5M5BVpoQMqfJnIKkiKgjValWlFQoAN0Po6dODpev6ZdmXpl8dFvDDy6eV3nDw578nldj37V4G2gQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECA
https://edit.tf/#0:QIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECAueH8yZosePmAg06Dizo8mdFi0pM6OgJHBh7mVHER5QeHYMi54fzJmix4-YCDToOLOjyZ0WLSkzo6AkcGHuZUcRHlB4dgy_f_3_9__f_3_9__f_3_9__f_3_9__f_3_9__f_3_9__f2DQoaPcyJkqAKgRqAKdBVMvPogoYc-VAgODDxLmWMEwBcwBYNSho9zImSoAqBGoAp0FUy8-iChhz5UCA4MPEuZYwTAFzAFg1AgAKAAgAnkB5AXWEyZYsSJEipUiRKFCiBAUAAQAEABAAWDf9__f_3_9__f_3_9__f_3_9__f_3_9__f_3_9__f_3_9_YOAIACAAgAIACAAgAIACAAgAIACAAgAIACAAgAIACAAgAIBg5_f_3_9__f_3_9__f_3_9__f_3_9__f_3_9__f_3_9__f2LACAAgAIACAAgAIACAAgAIACAAgAIACAAgAIACAAgAIACAYsf3_9__f_3_9__f_3_9__f_3_9__f_3_9__f_3_9__f_39iyAgAIACAAgAIACAAgAIACAAgAIACAAgAIACAAgAIACAAgGLP9__f_3_9__f_3_9__f_3_9__f_3_9__f_3_9__f_3_9_YtAIACAAgAIACAAgAIACAAgAIACAAgAIACAAgAIACAAgAIBi1_f_3_9__f_3_9__f_3_9__f_3_9__f_3_9__f_3_9__f2Lavo09MoOzl2bN_cND84dwKPyy5dwWbhz5d3TCBpZcgSFs65S5pCiRk0iVMnLKFKpWSWLVy8ywYsmZVo1bNyLhy6dlHj18_QIEKJGgSJUydAoUqlaBYtXL0DBiyZoGjVs3QOHLp2gePXz9BAgwoaCJFjR0EiTKloJk2dPQUKNKmgqVa1dBYs2raC5dvX0GDDixoMmXNnQaNOrWg2bd29Bw48uaDp17d0Hjz69oPn39_KYMOLGRyZc2cro06tZLZt3bzXDjy5lunXt3J-PPr2X-ff38GYh792PLh2CI2zDz0A1QsXC3-BNPplw5PJiPv3ZRQp-WvfwUXdn07suXlp3Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA